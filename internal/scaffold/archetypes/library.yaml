name: library
description: Single-module framework library with Spring Boot auto-configuration
multiModule: false

parent:
  groupId: org.fireflyframework
  artifactId: fireflyframework-parent
  version: 1.0.0-SNAPSHOT

dependencies:
  - { groupId: "org.springframework.boot", artifactId: "spring-boot-starter-webflux" }
  - { groupId: "org.springframework.boot", artifactId: "spring-boot-starter-validation" }
  - { groupId: "org.springframework.boot", artifactId: "spring-boot-starter-actuator" }
  - { groupId: "org.springframework.boot", artifactId: "spring-boot-configuration-processor", optional: true }
  - { groupId: "org.projectlombok", artifactId: "lombok", scope: "provided" }
  - { groupId: "com.fasterxml.jackson.core", artifactId: "jackson-databind" }
  - { groupId: "com.fasterxml.jackson.datatype", artifactId: "jackson-datatype-jsr310" }

testDependencies:
  - { groupId: "org.springframework.boot", artifactId: "spring-boot-starter-test" }
  - { groupId: "io.projectreactor", artifactId: "reactor-test" }

plugins:
  - maven-compiler-parameters
  - maven-source
  - maven-javadoc

packages:
  - config
  - core

rootTemplates:
  - { src: "library/pom.xml.tmpl", dest: "pom.xml" }
  - { src: "library/AutoConfiguration.java.tmpl", dest: "src/main/java/{{.PackagePath}}/config/{{.ModulePrefix}}AutoConfiguration.java" }
  - { src: "library/Properties.java.tmpl", dest: "src/main/java/{{.PackagePath}}/config/{{.ModulePrefix}}Properties.java" }
  - { src: "library/AutoConfiguration.imports.tmpl", dest: "src/main/resources/META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports" }
  - { src: "library/AutoConfigurationTest.java.tmpl", dest: "src/test/java/{{.PackagePath}}/config/{{.ModulePrefix}}AutoConfigurationTest.java" }
  - { src: "shared/gitignore.tmpl", dest: ".gitignore" }
  - { src: "shared/README.md.tmpl", dest: "README.md" }
  - { src: "shared/LICENSE.tmpl", dest: "LICENSE" }
